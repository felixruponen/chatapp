<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-item/paper-item.html">

<polymer-element attributes="userdata" name="chat-user-item">
  
  <template>
    <style>
      
      div p{
        color: #000;
      }    

    </style>
    <chat-socket id="chatSocket"></chat-socket>
    <paper-item icon="android" 
                label="{{userdata.username}}"
                on-click="{{updateTalkingTo}}">
    </paper-item>

  </template>
  <script>
  Polymer('chat-user-item', {
      ready: function() {
        var self = this;
        this.updateTalkingTo = function() {
          var socket = this.$.chatSocket.socket;
          socket.talkingTo = self.userdata.id;
          console.log(this.$.chatSocket.socket.talkingTo);
        }

      },
    });
  </script>
</polymer-element>
